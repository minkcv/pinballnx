#ifndef RAMP_H_
#define RAMP_H_

#include<vector>
#include "cross2d/c2d.h"
#include "Box2D/Box2D.h"
#include "util.h"

using namespace std;

// The ramp class has a box2d body and fixture but they are only for detection purposes.
// The fixture in here is a box2d sensor and doesn't cause any forces. 
// The collision detection is handled in the Table class in the overriden
// BeginContact and EndContact methods from the b2ContactListener that Table extends.
// Creating a bidirectional ramp actually takes 2 Ramp objects, one for up and one for down
// because this class only transitions the pinball TO another layer. 
// This means you can also use this class to make holes that the ball can fall through but can't go up.
class Ramp {
    public:
        // C2DRenderer is only for debug graphics, can be removed if desired.
        // b2World is necessary for adding the sensor.
        // rampID specifies the collision shape to load.
        // layerID specifies the layer that the ramp transitions to.
        Ramp(C2DRenderer* renderer, b2World& world, int rampID, int layerID);
        b2Fixture* getFixture();
        int getLayerID();
    private:
        b2Fixture* m_fixture;
        int m_layerID;
        vector<float> m_ramp1 = {846.4, 67.5, 845.7, 70.2, 849.5, 84.4, 853.3, 98.5, 855.2, 104.7, 857.1, 111.0, 858.9, 112.0, 860.8, 113.0, 864.7, 111.5, 868.5, 109.9, 870.4, 108.9, 872.3, 107.8, 922.1, 108.1, 972.0, 108.4, 973.0, 107.4, 973.9, 106.5, 979.5, 91.1, 985.0, 75.8, 985.0, 74.0, 985.0, 72.2, 981.8, 71.2, 978.5, 70.2, 971.0, 69.1, 963.5, 68.0, 952.0, 67.0, 940.5, 65.9, 893.8, 65.3, 847.1, 64.7, 846.4, 67.5};
        vector<float> m_ramp1up2 = {1001.5, 91.6, 995.0, 105.3, 992.4, 111.1, 989.7, 117.0, 998.7, 122.0, 1007.0, 126.2, 1013.9, 132.6, 1020.8, 139.0, 1038.0, 123.5, 1053.4, 108.1, 1050.6, 105.1, 1047.7, 102.1, 1034.6, 93.3, 1021.5, 84.4, 1017.0, 81.8, 1012.5, 79.3, 1010.2, 78.6, 1008.0, 77.9, 1001.5, 91.6};
        vector<float> m_ramp1Down = {787.5, 66.4, 773.5, 67.6, 769.5, 69.7, 765.5, 71.9, 760.7, 72.3, 755.9, 72.8, 753.6, 74.9, 751.4, 77.0, 748.0, 78.1, 744.5, 79.3, 740.9, 81.6, 737.4, 83.8, 734.4, 86.9, 731.5, 90.0, 729.6, 90.0, 727.6, 90.0, 724.8, 92.7, 722.0, 95.4, 722.0, 97.9, 722.0, 100.5, 739.6, 116.0, 757.1, 131.5, 762.5, 138.2, 767.9, 144.8, 776.7, 152.2, 785.5, 159.6, 788.7, 160.9, 791.9, 162.2, 793.6, 164.1, 795.3, 166.0, 796.5, 166.0, 797.6, 166.0, 800.1, 163.2, 802.6, 160.5, 805.5, 156.0, 808.3, 151.5, 819.5, 140.5, 830.7, 129.5, 834.4, 126.5, 838.2, 123.5, 833.9, 107.0, 829.7, 90.5, 827.9, 83.0, 826.1, 75.5, 824.9, 70.7, 823.7, 66.0, 819.1, 66.0, 814.5, 66.0, 808.0, 65.6, 801.5, 65.2, 787.5, 66.4};
        vector<float> m_ramp2 = {957.5, 622.6, 950.5, 625.1, 944.0, 626.2, 937.5, 627.3, 927.0, 627.9, 916.5, 628.5, 916.2, 647.4, 916.0, 666.4, 916.9, 667.3, 917.8, 668.2, 933.7, 667.1, 949.5, 665.9, 954.5, 664.9, 959.5, 663.8, 962.2, 662.4, 964.8, 661.0, 967.2, 661.0, 969.5, 661.0, 973.2, 660.0, 976.9, 658.9, 979.0, 655.9, 981.2, 653.0, 973.0, 636.5, 964.9, 620.0, 957.5, 622.6};
        vector<float> m_ramp2up2 = {988.0, 603.6, 975.5, 612.1, 974.0, 613.0, 972.5, 613.9, 976.8, 622.2, 981.1, 630.5, 987.3, 641.7, 993.5, 653.0, 1004.9, 647.9, 1014.5, 642.8, 1023.8, 637.3, 1033.0, 631.8, 1030.3, 627.1, 1027.6, 623.5, 1018.7, 613.5, 1009.7, 603.5, 1005.2, 599.2, 1000.6, 595.0, 988.0, 603.6};
        vector<float> m_ramp2Down = {1026.5, 573.9, 1021.7, 580.7, 1014.7, 585.6, 1007.8, 590.5, 1006.7, 591.2, 1005.7, 591.8, 1017.1, 604.2, 1028.5, 616.5, 1032.4, 621.5, 1036.4, 626.5, 1037.1, 627.4, 1037.9, 628.3, 1042.2, 625.7, 1046.5, 623.2, 1057.3, 611.7, 1068.0, 600.2, 1068.0, 598.8, 1068.0, 597.5, 1059.2, 588.9, 1050.5, 580.3, 1045.1, 577.4, 1039.8, 574.6, 1035.5, 570.8, 1031.3, 567.1, 1026.5, 573.9};
        vector<float> m_hole1 = {235.0, 65.0, 235.0, 84.0, 262.0, 84.0, 289.0, 84.0, 289.0, 65.0, 289.0, 46.0, 262.0, 46.0, 235.0, 46.0, 235.0, 65.0};
        vector<float> m_hole2 = {197.5, 600.2, 196.8, 609.5, 197.2, 615.0, 197.5, 620.5, 227.3, 620.8, 257.0, 621.0, 257.0, 606.0, 257.0, 591.0, 227.6, 591.0, 198.2, 591.0, 197.5, 600.2};
        vector<float> m_ramp3 = {734.0, 543.6, 714.0, 562.2, 714.0, 565.6, 714.0, 569.0, 724.8, 579.5, 735.5, 590.0, 738.8, 590.0, 742.1, 590.0, 745.0, 588.5, 748.0, 586.9, 748.0, 584.6, 748.0, 582.2, 749.6, 580.9, 751.2, 579.6, 753.0, 578.5, 754.9, 577.5, 764.5, 569.5, 774.2, 561.5, 777.5, 559.0, 780.8, 556.5, 782.5, 553.1, 784.1, 549.7, 779.3, 544.6, 774.5, 539.5, 767.5, 532.2, 760.6, 525.0, 757.3, 525.0, 754.0, 525.0, 734.0, 543.6};
        vector<float> m_ramp3Down = {708.5, 497.6, 702.5, 503.2, 695.5, 508.7, 688.5, 514.3, 684.8, 517.9, 681.0, 521.4, 681.0, 524.3, 681.0, 527.1, 694.6, 541.8, 708.3, 556.5, 711.5, 556.5, 714.8, 556.5, 731.9, 540.2, 749.0, 523.8, 749.0, 520.5, 749.0, 517.2, 735.6, 504.6, 722.2, 492.0, 718.4, 492.0, 714.5, 492.1, 708.5, 497.6};
        vector<float> m_ramp3up2 = {765.7, 575.1, 741.0, 593.2, 741.0, 595.0, 741.0, 596.9, 743.0, 600.5, 745.0, 604.1, 745.0, 605.2, 745.0, 606.3, 747.5, 609.6, 750.0, 612.9, 751.8, 616.3, 753.5, 617.8, 765.0, 618.5, 776.5, 619.2, 791.0, 616.5, 805.5, 613.9, 811.5, 610.6, 817.5, 607.4, 820.0, 605.9, 822.5, 604.5, 824.8, 602.6, 827.0, 600.7, 827.0, 597.7, 827.0, 594.7, 816.2, 583.1, 805.3, 571.5, 804.0, 569.0, 802.7, 566.5, 798.7, 561.7, 794.7, 557.0, 792.6, 557.0, 790.5, 557.0, 765.7, 575.1};
        vector<float> m_ramp1DownMid = {903.5, 374.1, 902.5, 375.1, 896.0, 379.8, 889.4, 384.5, 884.7, 388.4, 880.0, 392.2, 880.0, 394.5, 880.0, 396.8, 892.3, 406.4, 904.5, 416.0, 906.5, 416.0, 908.5, 416.0, 915.5, 410.5, 922.5, 404.9, 926.2, 400.7, 929.9, 396.5, 930.0, 394.4, 930.0, 392.3, 927.8, 389.0, 925.5, 385.6, 917.5, 379.4, 909.5, 373.1, 907.0, 373.1, 904.5, 373.1, 903.5, 374.1};
        vector<float> m_backdoorDown = {472.4, 673.4, 471.8, 674.8, 474.4, 688.5, 477.0, 702.1, 477.5, 703.1, 478.1, 704.0, 697.6, 704.0, 917.0, 704.0, 917.0, 698.2, 917.0, 692.5, 915.3, 682.2, 913.6, 672.0, 693.2, 672.0, 472.9, 672.0, 472.4, 673.4};
        vector<float> m_backdoorDown2 = {1064.1, 607.2, 1058.0, 614.3, 1049.8, 620.8, 1041.5, 627.3, 1031.0, 636.5, 1020.5, 645.6, 1016.9, 647.8, 1013.4, 649.9, 1005.9, 653.0, 998.5, 656.1, 986.1, 661.2, 973.6, 666.2, 966.8, 668.1, 960.0, 670.0, 941.2, 670.0, 922.4, 670.0, 921.2, 671.2, 920.0, 672.4, 920.0, 674.9, 920.0, 677.5, 922.5, 685.3, 925.0, 693.1, 925.0, 698.4, 925.0, 703.8, 926.5, 705.0, 928.1, 706.3, 946.3, 705.7, 964.5, 705.1, 979.0, 702.6, 993.5, 700.1, 998.0, 698.7, 1002.5, 697.3, 1014.7, 692.7, 1027.0, 688.1, 1033.2, 684.9, 1039.5, 681.8, 1050.8, 674.7, 1062.0, 667.7, 1067.8, 662.3, 1073.5, 656.9, 1080.2, 650.9, 1086.9, 644.9, 1089.1, 641.2, 1091.4, 637.5, 1096.2, 631.3, 1101.0, 625.0, 1101.0, 622.9, 1101.0, 620.8, 1098.9, 617.9, 1096.8, 615.0, 1090.8, 610.7, 1084.8, 606.5, 1080.2, 603.2, 1075.5, 600.0, 1072.8, 600.0, 1070.1, 600.0, 1064.1, 607.2};
        vector<float> m_tunnelDown = {677.5, 12.3, 676.9, 13.6, 677.2, 29.0, 677.5, 44.5, 683.0, 44.8, 688.5, 45.1, 701.5, 39.1, 714.5, 33.1, 714.5, 22.3, 714.5, 11.5, 696.2, 11.2, 678.0, 11.0, 677.5, 12.3};
        vector<float> m_newballEntrance1 = {634.0, 561.6, 632.7, 563.1, 639.5, 588.8, 646.3, 614.5, 647.8, 616.2, 649.3, 618.0, 664.5, 618.0, 679.8, 618.0, 681.1, 616.4, 682.3, 614.9, 676.2, 588.8, 670.0, 562.7, 668.9, 561.4, 667.8, 560.0, 651.5, 560.0, 635.2, 560.0, 634.0, 561.6};
        vector<float> m_newballEntrance2 = {728.2, 417.2, 727.0, 418.4, 727.0, 431.0, 727.0, 443.6, 728.2, 444.8, 729.4, 446.0, 735.5, 446.0, 741.6, 446.0, 742.8, 444.8, 744.0, 443.6, 744.0, 431.0, 744.0, 418.4, 742.8, 417.2, 741.6, 416.0, 735.5, 416.0, 729.4, 416.0, 728.2, 417.2};
        vector<float> m_newballEntrance3 = {975.8, 20.7, 974.3, 22.5, 969.2, 31.0, 964.0, 39.6, 964.0, 40.7, 964.0, 41.8, 965.4, 42.9, 966.8, 44.1, 993.5, 54.5, 1020.3, 64.8, 1019.6, 58.2, 1019.0, 51.5, 1016.8, 44.1, 1014.6, 36.7, 1010.1, 31.8, 1005.5, 26.9, 992.5, 23.0, 979.5, 19.0, 978.4, 19.0, 977.3, 19.0, 975.8, 20.7};
        // Access this vector by index of rampID to get the collision shape for that ramp
        vector<vector<float>> m_rampShapes = {
            m_ramp1, m_ramp1up2, m_ramp1Down, m_hole1, m_ramp2, m_ramp2up2, m_ramp2Down, m_hole2, m_ramp3, m_ramp3Down, m_ramp3up2, m_ramp1DownMid, m_backdoorDown, m_backdoorDown2, m_tunnelDown, m_newballEntrance1, m_newballEntrance2, m_newballEntrance3
        };
};

#endif